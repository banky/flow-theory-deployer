(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{97664:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lender",function(){return s(7186)}])},7186:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return G}});var i=s(85893),n=s(67294),a=s(13642),r=s(17947),o=s(25675),l=s.n(o),c=s(52629),d=s(53508),$=s(43395),u=function(e){var t=e.depositAmount,s=e.showDialog,n=e.closeDialog;return(0,i.jsx)(c.V,{isOpen:s,onDismiss:n,"aria-label":"Deposit Success Overlay",children:(0,i.jsxs)("div",{className:"text-left",children:[(0,i.jsxs)(d.L,{title:"Deposit Success!",children:[(0,i.jsx)("div",{children:(0,i.jsx)(l(),{src:"/usdc-logo.png",width:50,height:50,alt:""})}),(0,i.jsx)($.t,{className:"text-4xl font-bold mt-4",children:t}),(0,i.jsxs)("p",{className:"font-thin text-blue--3 mb-4",children:["$",t]}),(0,i.jsxs)("div",{className:"font-bold text-lg flex gap-2 mb-4",children:[(0,i.jsx)("span",{children:"Interest rate"}),(0,i.jsx)($.t,{className:"inline font-bold",children:"1%"})]})]}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)(r.K,{onClick:n,children:"\uD83D\uDC4D Got it"})})]})})},h=s(47568),x=s(20414),m=s(56371),g=s(79322),p=s(92070),f=s(47506),j=function(e){var t=e.depositAmount,s=e.setDepositAmount,a=e.showDialog,o=e.closeDialog,l=e.onApprove,$=(0,m.parseEther)(""===t?"0":t),u=(0,f.O)(),j=u.contractAddress,v=u.abi,D=(0,g.PJ)({addressOrName:j,contractInterface:v,functionName:"depositLiquidity(uint256)",args:[$],enabled:a}),w=D.config;D.error;var N,b=(0,g.GG)(w).writeAsync,A=(0,n.useState)(!1),_=A[0],O=A[1],C=(N=(0,h.Z)(function(){var e,t;return(0,x.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),O(!0),[4,null==b?void 0:b()];case 1:if(void 0===(e=s.sent()))return O(!1),[2];return[4,e.wait()];case 2:return s.sent(),O(!1),l(),[3,4];case 3:return t=s.sent(),O(!1),[3,4];case 4:return[2]}})}),function(){return N.apply(this,arguments)});return(0,i.jsxs)(c.V,{isOpen:a,onDismiss:o,"aria-label":"Deposit Overlay",children:[(0,i.jsx)("div",{className:"text-left",children:(0,i.jsxs)(d.L,{title:"Deposit",children:[(0,i.jsx)(p.O,{value:t,label:"Amount",onChange:s,icon:"/usdc-logo.png",className:"mb-4"}),(0,i.jsx)("p",{className:"font-thin text-blue--3 mb-4",children:"Only deposit USDC"}),(0,i.jsx)("p",{className:"font-thin text-blue--3 mb-4",children:"Interest paid out once a day"})]})}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)(r.K,{onClick:C,isLoading:_,disabled:_,children:"Approve"})})]})},v=s(8616),D=s(2593),w=s(21046),N=s(62268),b=s(47143),A=s(52117),_=function(e){var t=e.withdrawAmount,s=e.setWithdrawAmount,a=e.maxWithdrawAmount,o=e.showDialog,l=e.closeDialog,$=e.onApprove,u=(0,m.parseEther)(""===t?"0":t),j=(0,m.formatEther)(a),v=(0,f.O)(),D=v.contractAddress,w=v.abi,N=(0,g.PJ)({addressOrName:D,contractInterface:w,functionName:"withdrawLiquidity(uint256)",args:[u],enabled:o}),b=N.config;N.error;var A,_=(0,g.GG)(b).writeAsync,O=(0,n.useState)(!1),C=O[0],y=O[1],L=(A=(0,h.Z)(function(){var e,t;return(0,x.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),y(!0),[4,null==_?void 0:_()];case 1:if(void 0===(e=s.sent()))return y(!1),[2];return[4,e.wait()];case 2:return s.sent(),y(!1),$(),[3,4];case 3:return t=s.sent(),y(!1),[3,4];case 4:return[2]}})}),function(){return A.apply(this,arguments)});return(0,i.jsxs)(c.V,{isOpen:o,onDismiss:l,"aria-label":"Withdraw Overlay",children:[(0,i.jsx)("div",{className:"text-left",children:(0,i.jsx)(d.L,{title:"Withdraw",children:(0,i.jsx)(p.O,{value:t,label:"Amount",onChange:s,icon:"/usdc-logo.png",className:"mb-4",buttonText:"Use Max",onButtonPress:function(){return s(j)}})})}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)(r.K,{onClick:L,isLoading:C,disabled:C,children:"Approve"})})]})},O=s(9069),C=s(1438),y=function(e){var t=e.withdrawAmount,s=e.interestGained,n=e.showDialog,a=e.closeDialog;return(0,i.jsx)(c.V,{isOpen:n,onDismiss:a,"aria-label":"Withdrawal Success Overlay",children:(0,i.jsxs)("div",{className:"text-left",children:[(0,i.jsxs)(d.L,{title:"Withdrawal Success!",children:[(0,i.jsx)("div",{children:(0,i.jsx)(l(),{src:"/usdc-logo.png",width:50,height:50,alt:""})}),(0,i.jsx)($.t,{className:"text-4xl font-bold mt-4",children:t}),(0,i.jsxs)("p",{className:"font-thin text-blue--3 mb-4",children:["$",t]}),(0,i.jsx)("p",{className:"font-bold text-lg",children:"Interest Gained"}),(0,i.jsxs)("p",{className:"font-thin text-2xl",children:["$",s.toFixed(C.L)]})]}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)(r.K,{onClick:a,children:"\uD83D\uDC4D Got it"})})]})})},L=s(58570),k=s(50325),S=function(e){var t=e.openDialog,s=(0,g.mA)().address,n=(0,f.O)().contractAddress,o=(0,L.L)(),l=o.contractAddress,c=o.abi,d=(0,g.do)({addressOrName:l,contractInterface:c,functionName:"allowance",args:[s,n],enabled:void 0!==s}),$=d.data,u=d.isLoading,h=d.refetch,x=Number(null==$?void 0:$.toString()),m=(0,g.PJ)({addressOrName:l,contractInterface:c,functionName:"approve",args:[n,w.Bz]}),p=m.config;m.isLoading;var j=(0,g.GG)(p).writeAsync,D=(0,k.f)(j,h),N=D.callWithWait,b=D.loading;return u||u||void 0===j?(0,i.jsx)(O.g,{}):(0,i.jsx)(a.F,{children:(0,i.jsxs)("div",{className:"h-full flex gap-4 items-center",children:[(0,i.jsx)("p",{className:"text-gray-400",children:"Start depositing"}),0===x?(0,i.jsx)(r.K,{onClick:N,isLoading:b,disabled:b,children:(0,i.jsx)("div",{className:"flex items-center gap-2",children:"Allow spending of USDCx"})}):(0,i.jsx)(r.K,{onClick:t,children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"mb-1",children:(0,i.jsx)(v.p,{})}),"Deposit Collateral"]})})]})})},W=function(e){var t=e.currentLendAmount,s=e.openDepositDialog,n=e.openWithdrawDialog,a=(0,m.formatEther)(t);return(0,i.jsxs)("div",{className:"mx-8",children:[(0,i.jsx)(N.x,{children:"Deposits"}),(0,i.jsxs)("div",{className:"bg-blue-3 p-4 flex items-center gap-8",children:[(0,i.jsx)(l(),{src:"/usdc-logo.png",width:50,height:50,alt:""}),(0,i.jsx)("p",{className:"font-bold text-xl",children:a}),(0,i.jsxs)("div",{className:"flex h-fit gap-8",children:[(0,i.jsx)(r.K,{onClick:s,children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(v.p,{}),"Deposit"]})}),(0,i.jsx)(b.k,{onClick:n,children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(A.V,{}),"Withdraw"]})})]})]})]})},G=function(){var e=(0,n.useState)(),t=e[0],s=e[1],a=(0,n.useState)(""),r=a[0],o=a[1],l=(0,n.useState)(""),c=l[0],d=l[1],$=(0,g.mA)().address,h=(0,f.O)(),x=h.contractAddress,m=h.abi,p=(0,g.do)({addressOrName:x,contractInterface:m,functionName:"lenderProfiles",args:[$],enabled:void 0!==$}),v=p.data,w=p.refetch,N=p.isFetching,b=function(){s(void 0),o(""),d(""),w()};if(console.log("fetchingAllowance",N),N)return(0,i.jsx)(O.g,{});var A=null!=v?v:D.O$.from(0);return(0,i.jsxs)(i.Fragment,{children:[A.eq(0)?(0,i.jsx)(S,{openDialog:function(){s("depositDialog")}}):(0,i.jsx)(W,{currentLendAmount:A,openDepositDialog:function(){return s("depositDialog")},openWithdrawDialog:function(){return s("withdrawDialog")}}),(0,i.jsx)(j,{depositAmount:r,setDepositAmount:o,showDialog:"depositDialog"===t,closeDialog:b,onApprove:function(){return s("depositConfirmationDialog")}}),(0,i.jsx)(u,{depositAmount:r,showDialog:"depositConfirmationDialog"===t,closeDialog:b}),(0,i.jsx)(_,{withdrawAmount:c,setWithdrawAmount:d,maxWithdrawAmount:A,showDialog:"withdrawDialog"===t,closeDialog:b,onApprove:function(){return s("withdrawConfirmationDialog")}}),(0,i.jsx)(y,{withdrawAmount:c,interestGained:10,showDialog:"withdrawConfirmationDialog"===t,closeDialog:b})]})}}},function(e){e.O(0,[575,722,774,888,179],function(){return e(e.s=97664)}),_N_E=e.O()}]);