(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{50477:function(e,$,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/borrower",function(){return t(28083)}])},28083:function(e,$,t){"use strict";t.r($),t.d($,{default:function(){return U}});var n=t(85893),r=t(67294),a=t(17947),i=t(8616),s=t(25675),o=t.n(s),l=t(47143),_=t(47506),c=t(79322),d=t(52117),h=function(){return(0,n.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M6.62654 0.333313C4.91747 0.338188 3.27554 0.999256 2.03988 2.17998V0.99998C2.03988 0.823169 1.96964 0.653599 1.84461 0.528575C1.71959 0.403551 1.55002 0.333313 1.37321 0.333313C1.1964 0.333313 1.02683 0.403551 0.901805 0.528575C0.776781 0.653599 0.706543 0.823169 0.706543 0.99998V3.99998C0.706543 4.17679 0.776781 4.34636 0.901805 4.47138C1.02683 4.59641 1.1964 4.66665 1.37321 4.66665H4.37321C4.55002 4.66665 4.71959 4.59641 4.84461 4.47138C4.96964 4.34636 5.03988 4.17679 5.03988 3.99998C5.03988 3.82317 4.96964 3.6536 4.84461 3.52858C4.71959 3.40355 4.55002 3.33331 4.37321 3.33331H2.77321C3.38102 2.69132 4.13888 2.21049 4.97863 1.93407C5.81838 1.65766 6.71367 1.59433 7.58397 1.74978C8.45426 1.90524 9.27227 2.2746 9.96439 2.82464C10.6565 3.37468 11.2011 4.08815 11.549 4.90087C11.897 5.71358 12.0375 6.60005 11.9578 7.48053C11.8782 8.361 11.5809 9.20787 11.0927 9.94495C10.6045 10.682 9.94081 11.2862 9.16122 11.7031C8.38162 12.12 7.51061 12.3366 6.62654 12.3333C6.44973 12.3333 6.28016 12.4036 6.15514 12.5286C6.03011 12.6536 5.95988 12.8232 5.95988 13C5.95988 13.1768 6.03011 13.3464 6.15514 13.4714C6.28016 13.5964 6.44973 13.6666 6.62654 13.6666C8.39465 13.6666 10.0903 12.9643 11.3406 11.714C12.5908 10.4638 13.2932 8.76809 13.2932 6.99998C13.2932 5.23187 12.5908 3.53618 11.3406 2.28593C10.0903 1.03569 8.39465 0.333313 6.62654 0.333313Z",fill:"#F8F9FF"})})},u=function(){return(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M7.33317 6.00002H9.99984C10.1767 6.00002 10.3462 5.92978 10.4712 5.80476C10.5963 5.67973 10.6665 5.51016 10.6665 5.33335C10.6665 5.15654 10.5963 4.98697 10.4712 4.86195C10.3462 4.73692 10.1767 4.66669 9.99984 4.66669H8.66651V4.00002C8.66651 3.82321 8.59627 3.65364 8.47125 3.52862C8.34622 3.40359 8.17665 3.33335 7.99984 3.33335C7.82303 3.33335 7.65346 3.40359 7.52844 3.52862C7.40341 3.65364 7.33317 3.82321 7.33317 4.00002V4.66669C6.80274 4.66669 6.29403 4.8774 5.91896 5.25247C5.54389 5.62755 5.33317 6.13625 5.33317 6.66669C5.33317 7.19712 5.54389 7.70583 5.91896 8.0809C6.29403 8.45597 6.80274 8.66669 7.33317 8.66669H8.66651C8.84332 8.66669 9.01289 8.73692 9.13791 8.86195C9.26294 8.98697 9.33317 9.15654 9.33317 9.33335C9.33317 9.51016 9.26294 9.67973 9.13791 9.80476C9.01289 9.92978 8.84332 10 8.66651 10H5.99984C5.82303 10 5.65346 10.0703 5.52844 10.1953C5.40341 10.3203 5.33317 10.4899 5.33317 10.6667C5.33317 10.8435 5.40341 11.0131 5.52844 11.1381C5.65346 11.2631 5.82303 11.3334 5.99984 11.3334H7.33317V12C7.33317 12.1768 7.40341 12.3464 7.52844 12.4714C7.65346 12.5964 7.82303 12.6667 7.99984 12.6667C8.17665 12.6667 8.34622 12.5964 8.47125 12.4714C8.59627 12.3464 8.66651 12.1768 8.66651 12V11.3334C9.19694 11.3334 9.70565 11.1226 10.0807 10.7476C10.4558 10.3725 10.6665 9.86379 10.6665 9.33335C10.6665 8.80292 10.4558 8.29421 10.0807 7.91914C9.70565 7.54407 9.19694 7.33335 8.66651 7.33335H7.33317C7.15636 7.33335 6.98679 7.26312 6.86177 7.13809C6.73675 7.01307 6.66651 6.8435 6.66651 6.66669C6.66651 6.48988 6.73675 6.32031 6.86177 6.19528C6.98679 6.07026 7.15636 6.00002 7.33317 6.00002V6.00002ZM7.99984 0.666687C6.54944 0.666687 5.13162 1.09678 3.92566 1.90258C2.7197 2.70837 1.77977 3.85368 1.22472 5.19367C0.669681 6.53367 0.524457 8.00815 0.807415 9.43068C1.09037 10.8532 1.78881 12.1599 2.81439 13.1855C3.83998 14.2111 5.14665 14.9095 6.56918 15.1924C7.99171 15.4754 9.46619 15.3302 10.8062 14.7751C12.1462 14.2201 13.2915 13.2802 14.0973 12.0742C14.9031 10.8682 15.3332 9.45042 15.3332 8.00002C15.3332 6.0551 14.5606 4.18984 13.1853 2.81457C11.81 1.4393 9.94476 0.666687 7.99984 0.666687V0.666687ZM7.99984 14C6.81315 14 5.65311 13.6481 4.66642 12.9888C3.67972 12.3295 2.91069 11.3925 2.45656 10.2961C2.00244 9.19976 1.88362 7.99336 2.11513 6.82948C2.34664 5.66559 2.91808 4.59649 3.7572 3.75738C4.59631 2.91826 5.66541 2.34682 6.8293 2.11531C7.99318 1.8838 9.19958 2.00262 10.2959 2.45674C11.3923 2.91087 12.3294 3.6799 12.9887 4.6666C13.6479 5.65329 13.9998 6.81333 13.9998 8.00002C13.9998 9.59132 13.3677 11.1174 12.2425 12.2427C11.1173 13.3679 9.59114 14 7.99984 14V14Z",fill:"#F8F9FF"})})},x=t(52629),m=t(53508),f=t(92070),g=t(43395),p=function(e){var $=e.borrowAmount,t=e.setBorrowAmount,r=e.newCollateralRatio,i=e.newInterest,s=e.showDialog,o=e.closeDialog,l=e.onApprove;return(0,n.jsx)(x.V,{isOpen:s,onDismiss:o,"aria-label":"Borrow Overlay",children:(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsx)(m.L,{title:"Borrow",children:(0,n.jsx)(f.O,{value:$,label:"Amount",onChange:t,icon:"/usdc-logo.png",className:"mb-4"})}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("span",{className:"font-bold",children:"New Collateral Ratio: "}),(0,n.jsxs)("span",{children:[void 0===r?"--:--":r.toString()," "]})]}),(0,n.jsx)(g.t,{className:"mb-4 font-bold",children:"Fixed APR 1%"}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("span",{className:"font-bold",children:"New Interest: "}),(0,n.jsxs)("span",{children:[i.toString(),"/year"]})]}),(0,n.jsx)("div",{className:"text-right mt-4",children:(0,n.jsx)(a.K,{onClick:l,children:"Approve"})})]})})},j=t(47568),C=t(20414),w=t(56371),v=t(50325),b=t(46669),N=t(58570),D=function(){var e,$=(0,c.LN)().chain,t=(0,c.yL)(),n=(0,c.mA)().address,a=(0,c.mx)().data,i=(0,N.L)().contractAddress,s=(0,_.O)().contractAddress,o=(0,r.useState)(),l=o[0],d=o[1],h=(0,r.useState)(!1),u=h[0],x=h[1];(0,r.useEffect)(function(){var e;(e=(0,j.Z)(function(){var e,r,a,o,l;return(0,C.__generator)(this,function(_){switch(_.label){case 0:if(!n)return[2];return a={},[4,b.gQ.create((a.chainId=null!==(e=null==$?void 0:$.id)&&void 0!==e?e:t.network.chainId,a.provider=t,a))];case 1:return r=_.sent(),l={},[4,r.cfaV1.getFlowOperatorData((l.sender=null!=n?n:"",l.superToken=i,l.flowOperator=s,l.providerOrSigner=t,l))];case 2:return d(o=_.sent()),[2]}})}),function(){return e.apply(this,arguments)})()},[u]);var m=(e=(0,j.Z)(function(){var e,n,r,o,l,_;return(0,C.__generator)(this,function(c){switch(c.label){case 0:if(null==a)return[2];return r={},[4,b.gQ.create((r.chainId=null!==(e=null==$?void 0:$.id)&&void 0!==e?e:1,r.provider=t,r))];case 1:return n=c.sent(),l={},[4,n.cfaV1.authorizeFlowOperatorWithFullControl((l.superToken=i,l.flowOperator=s,l))];case 2:return[4,(o=c.sent()).exec(a)];case 3:return[4,(_=c.sent()).wait()];case 4:return c.sent(),x(!0),[2]}})}),function(){return e.apply(this,arguments)});return{operatorData:l,grantSfPermissions:m}},A=function(e){e.collateralAmount;var $=e.borrowAmount,t=e.collateralRatio,i=e.interest,s=e.showDialog,d=e.closeDialog,h=e.onBack,u=(0,w.parseEther)(""===$?"0":$),f=D(),p=f.operatorData,b=f.grantSfPermissions,N=(0,_.O)(),A=N.contractAddress,y=N.abi,O=(0,c.PJ)({addressOrName:A,contractInterface:y,functionName:"borrow",args:[u],enabled:s}),k=O.config;O.error;var S,B=(0,c.GG)(k).writeAsync,R=(0,v.f)(B,(0,j.Z)(function(){return(0,C.__generator)(this,function(e){return[2,d()]})})),L=R.loading,P=R.callWithWait,W=(null==p?void 0:p.permissions)==="7",E=(0,r.useState)(!1),V=E[0],F=E[1],I=(S=(0,j.Z)(function(){var e;return(0,C.__generator)(this,function($){switch($.label){case 0:return $.trys.push([0,2,,3]),F(!0),[4,b()];case 1:return $.sent(),F(!1),[3,3];case 2:return e=$.sent(),console.error(e),F(!1),[3,3];case 3:return[2]}})}),function(){return S.apply(this,arguments)});return(0,n.jsxs)(x.V,{isOpen:s,onDismiss:d,"aria-label":"Borrow confirmation Overlay",children:[(0,n.jsx)("div",{className:"mb-4 text-left",children:(0,n.jsxs)(m.L,{title:"Borrow",children:[(0,n.jsx)(o(),{src:"/usdc-logo.png",width:50,height:50,alt:"USDC Logo"}),(0,n.jsx)("p",{className:"font-bold text-brand-blue text-3xl",children:$}),(0,n.jsxs)("p",{className:"font-thin text-blue--3",children:["$",$]})]})}),(0,n.jsxs)("div",{className:"text-left mb-4",children:[(0,n.jsx)("p",{className:"font-bold text-lg",children:"Collateral Ratio"}),(0,n.jsx)("p",{className:"font-thin text-3xl",children:t.toString()}),(0,n.jsx)(g.t,{className:"mb-4 font-bold",children:"Fixed APR 1%"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-bold",children:"Interest: "}),(0,n.jsxs)("span",{className:"font-thin",children:["USDC ",i.toString(),"/year"]})]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(l.k,{onClick:h,children:"Back"}),W?(0,n.jsx)(a.K,{onClick:P,isLoading:L,disabled:L,children:"Confirm"}):(0,n.jsx)(a.K,{onClick:I,isLoading:V,disabled:V,children:"Allow Flow"})]})]})},y=function(e){var $=e.depositAmount,t=e.setDepositAmount,r=e.newCollateralRatio,i=e.showDialog,s=e.closeDialog,o=e.onApprove;return(0,n.jsx)(x.V,{isOpen:i,onDismiss:s,"aria-label":"Deposit Overlay",children:(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsx)("div",{className:"flex-1 text-left",children:(0,n.jsx)(m.L,{title:"Deposit Collateral",children:(0,n.jsx)(f.O,{value:$.toString(),label:"Amount",onChange:t,icon:"/weth-logo.png",className:"mb-4"})})}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("span",{className:"font-bold",children:"New Collateral Ratio: "}),(0,n.jsxs)("span",{children:[void 0===r?"--:--":r.toString()," "]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(a.K,{onClick:o,children:"Approve"})})]})})},O=t(74311),k=t(2593),S=function(e){var $=e.collateralRatio,t=e.depositAmount,r=e.showDialog,i=e.closeDialog,s=e.onBack,d=(0,w.parseEther)(""===t?"0":t),h=(0,_.O)(),u=h.contractAddress,f=h.abi,g=(0,c.PJ)({addressOrName:u,contractInterface:f,functionName:"depositCollateral(uint256)",args:[d],enabled:r}),p=g.config;g.error;var b=(0,c.GG)(p).writeAsync,N=(0,O.W)(),D=N.collateralTokenPrice,A=N.granularity,y=D.mul(k.O$.from(""===t?"0":t)).div(A),S=(0,v.f)(b,(0,j.Z)(function(){return(0,C.__generator)(this,function(e){return[2,i()]})})),B=S.callWithWait,R=S.loading;return(0,n.jsxs)(x.V,{isOpen:r,onDismiss:i,"aria-label":"Deposit Overlay",children:[(0,n.jsx)("div",{className:"flex gap-4 mb-4",children:(0,n.jsx)("div",{className:"flex-1 text-left",children:(0,n.jsxs)(m.L,{title:"Collateral",children:[(0,n.jsx)(o(),{src:"/weth-logo.png",width:50,height:50,alt:"WETH Logo"}),(0,n.jsx)("p",{className:"font-bold text-brand-blue text-3xl",children:t.toString()}),(0,n.jsxs)("p",{className:"font-thin text-blue--3",children:["$",y.toString()]})]})})}),(0,n.jsxs)("div",{className:"text-left mb-4",children:[(0,n.jsx)("p",{className:"font-bold text-lg",children:"Collateral Ratio"}),(0,n.jsx)("p",{className:"font-thin text-3xl",children:$.toString()})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(l.k,{onClick:s,children:"Back"}),(0,n.jsx)(a.K,{onClick:B,disabled:R,isLoading:R,children:"Confirm"})]})]})},B=function(e){var $=e.withdrawAmount,t=e.setWithdrawAmount,r=e.showDialog,i=e.closeDialog,s=e.onApprove;return(0,n.jsxs)(x.V,{isOpen:r,onDismiss:i,"aria-label":"Withdraw Overlay",children:[(0,n.jsx)("div",{className:"flex-1 text-left",children:(0,n.jsxs)(m.L,{title:"Withdraw Collateral",children:[(0,n.jsx)(f.O,{value:$,label:"Amount",onChange:t,icon:"/weth-logo.png",className:"mb-4",buttonText:"Use Max",onButtonPress:function(){}}),(0,n.jsx)("p",{className:"font-thin text-blue--3",children:"Only deposit USDC"})]})}),(0,n.jsx)("div",{className:"text-right mt-4",children:(0,n.jsx)(a.K,{onClick:s,children:"Approve"})})]})},R=function(e){var $=e.withdrawAmount,t=e.interestPaid,r=e.showDialog,i=e.closeDialog,s=e.onBack,d=(0,w.parseEther)(""===$?"0":$),h=(0,_.O)(),u=h.contractAddress,f=h.abi,g=(0,c.PJ)({addressOrName:u,contractInterface:f,functionName:"withdrawCollateral(uint256)",args:[d],enabled:r}),p=g.config;g.error;var b=(0,c.GG)(p).writeAsync,N=(0,O.W)(),D=N.collateralTokenPrice,A=N.granularity,y=D.mul(k.O$.from(""===$?"0":$)).div(A),S=(0,v.f)(b,(0,j.Z)(function(){return(0,C.__generator)(this,function(e){return[2,i()]})})),B=S.callWithWait,R=S.loading;return(0,n.jsxs)(x.V,{isOpen:r,onDismiss:i,"aria-label":"Withdraw Confirmation Overlay",children:[(0,n.jsx)("div",{className:"text-left mb-4",children:(0,n.jsxs)(m.L,{title:"Withdraw",children:[(0,n.jsx)(o(),{src:"/weth-logo.png",width:50,height:50,alt:"USDC Logo"}),(0,n.jsx)("p",{className:"font-bold text-brand-blue text-3xl",children:$.toString()}),(0,n.jsxs)("p",{className:"font-thin text-blue--3",children:["$",y.toString()]})]})}),(0,n.jsxs)("div",{className:"text-left mb-4",children:[(0,n.jsx)("p",{className:"font-bold text-lg",children:"Interest Paid"}),(0,n.jsxs)("p",{className:"font-light text-3xl",children:[t.toString()," USDCx"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(l.k,{onClick:s,children:"Back"}),(0,n.jsx)(a.K,{onClick:B,isLoading:R,disabled:R,children:"Confirm"})]})]})},L=function(e){var $=e.repayAmount,t=e.setRepayAmount,r=e.newCollateralRatio,i=e.newInterest,s=e.showDialog,o=e.closeDialog,l=e.onApprove;return(0,n.jsx)(x.V,{isOpen:s,onDismiss:o,"aria-label":"Repay Overlay",children:(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsx)("div",{className:"flex-1 text-left",children:(0,n.jsx)(m.L,{title:"Repay Loan",children:(0,n.jsx)(f.O,{value:$.toString(),label:"Amount",onChange:t,icon:"/usdc-logo.png",className:"mb-4",buttonText:"Use Max",onButtonPress:function(){}})})}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("span",{className:"font-bold",children:"New Collateral Ratio: "}),(0,n.jsxs)("span",{children:[void 0===r?"--:--":r.toString()," "]})]}),(0,n.jsxs)(g.t,{className:"mb-4",children:[(0,n.jsx)("span",{className:"font-bold",children:"Fixed APR: "}),(0,n.jsx)("span",{className:"font-thin",children:"1%"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("span",{className:"font-bold",children:"New Interest: "}),(0,n.jsx)("span",{children:i})]}),(0,n.jsx)("div",{children:(0,n.jsx)(a.K,{onClick:l,children:"Approve"})})]})})},P=function(e){var $=e.repayAmount,t=e.interestPaid,r=e.showDialog,i=e.closeDialog,s=e.onBack,d=(0,w.parseEther)(""===$?"0":$),h=(0,_.O)(),u=h.contractAddress,f=h.abi,g=(0,c.PJ)({addressOrName:u,contractInterface:f,functionName:"repay",args:[d],enabled:r}),p=g.config;g.error;var b=(0,c.GG)(p).writeAsync,N=(0,v.f)(b,(0,j.Z)(function(){return(0,C.__generator)(this,function(e){return[2,i()]})})),D=N.loading,A=N.callWithWait;return(0,n.jsxs)(x.V,{isOpen:r,onDismiss:i,"aria-label":"Repay Confirmation Overlay",children:[(0,n.jsx)("div",{className:"mb-4 text-left",children:(0,n.jsxs)(m.L,{title:"Repay",children:[(0,n.jsx)(o(),{src:"/usdc-logo.png",width:50,height:50,alt:"USDC Logo"}),(0,n.jsx)("p",{className:"font-bold text-brand-blue text-3xl",children:$.toString()}),(0,n.jsxs)("p",{className:"font-thin text-blue--3 mb-4",children:["$",$.toString()]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("p",{className:"font-bold text-lg",children:"Interest Paid"}),(0,n.jsxs)("p",{className:"font-light text-3xl",children:[t.toString()," USDCx"]})]})]})}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(l.k,{onClick:s,children:"Back"}),(0,n.jsx)(a.K,{onClick:A,isLoading:D,disabled:D,children:"Confirm"})]})]})},W=t(13642),E=t(62268),V=t(9069),F=t(14924),I=t(21434),Z=t(80810),K=function(){var e,$="0x0000000000000000000000000000000000000000",t=(0,c.LN)().chain;if((null==t?void 0:t.id)===void 0)return{contractAddress:$,abi:Z.Mt};var n=(e={},(0,F.Z)(e,I.b.goerli,"0x5AF1c2B6275ECE07351Ab808dc54864f0f2747A1"),(0,F.Z)(e,I.b.rinkeby,"0x0000000000000000000000000000000000000000"),(0,F.Z)(e,I.b.mainnet,"0x0000000000000000000000000000000000000000"),(0,F.Z)(e,I.b.optimismGoerli,"0x0000000000000000000000000000000000000000"),(0,F.Z)(e,I.b.polygonMumbai,"0x0000000000000000000000000000000000000000"),e)[t.id];return void 0===n?{contractAddress:$,abi:Z.Mt}:{contractAddress:n,abi:Z.Mt}},T=t(21046),G=function(e){return""===e?"0":e},H=function(e){var $=e.openDialog,t=(0,c.mA)().address,r=(0,_.O)().contractAddress,s=K(),o=s.contractAddress,l=s.abi,d=(0,c.do)({addressOrName:o,contractInterface:l,functionName:"allowance",args:[t,r],enabled:void 0!==t}),h=d.data,u=d.isLoading,x=d.refetch,m=Number(null==h?void 0:h.toString()),f=(0,c.PJ)({addressOrName:o,contractInterface:l,functionName:"approve",args:[r,T.Bz]}),g=f.config;f.isLoading;var p=(0,c.GG)(g).writeAsync,j=(0,v.f)(p,x),C=j.callWithWait,w=j.loading;return u||u||void 0===p?(0,n.jsx)(V.g,{}):(0,n.jsx)(W.F,{children:(0,n.jsxs)("div",{className:"h-full flex gap-4 items-center",children:[(0,n.jsx)("p",{className:"text-gray-400",children:"No Borrows"}),0===m?(0,n.jsx)(a.K,{onClick:C,isLoading:w,disabled:w,children:(0,n.jsx)("div",{className:"flex items-center gap-2",children:"Allow spending of WETH"})}):(0,n.jsx)(a.K,{onClick:$,children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"mb-1",children:(0,n.jsx)(i.p,{})}),"Deposit Collateral"]})})]})})},M=function(e){var $=e.currentCollateralAmount,t=e.currentBorrowAmount,r=e.openDepositDialog,s=e.openWithdrawDialog,_=e.openRepayDialog,c=e.openBorrowDialog,x=(0,w.formatEther)($),m=(0,w.formatEther)(t);return(0,n.jsxs)("div",{className:"flex gap-4 mx-8",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)(E.x,{children:"Collateral"}),(0,n.jsxs)("div",{className:"bg-blue-3 p-4 flex items-center gap-8",children:[(0,n.jsx)(o(),{src:"/weth-logo.png",width:50,height:50,alt:""}),(0,n.jsx)("p",{children:x}),(0,n.jsxs)("div",{className:"flex h-fit gap-8",children:[(0,n.jsx)(a.K,{onClick:r,children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.p,{}),"Deposit"]})}),(0,n.jsx)(l.k,{onClick:s,children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.V,{}),"Withdraw"]})})]})]})]}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)(E.x,{children:"Borrows"}),(0,n.jsxs)("div",{className:"bg-blue-3 p-4 flex items-center gap-8",children:[(0,n.jsx)(o(),{src:"/usdc-logo.png",width:50,height:50,alt:""}),(0,n.jsx)("p",{children:m}),(0,n.jsxs)("div",{className:"flex h-fit gap-8",children:[(0,n.jsx)(a.K,{onClick:_,children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(h,{}),"Repay"]})}),(0,n.jsx)(l.k,{onClick:c,children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(u,{}),"Borrow"]})})]})]})]})]})},U=function(){var e,$,t=(0,r.useState)(),a=t[0],i=t[1],s=(0,r.useState)(""),o=s[0],l=s[1],d=(0,r.useState)(""),h=d[0],u=d[1],x=(0,r.useState)(""),m=x[0],f=x[1],g=(0,r.useState)(""),j=g[0],C=g[1],v=(0,r.useState)(""),b=v[0],N=v[1],D=(0,c.mA)().address,W=(0,_.O)(),E=W.contractAddress,F=W.abi,I=(0,c.do)({addressOrName:E,contractInterface:F,functionName:"borrowerProfiles",args:[D],enabled:void 0!==D}),Z=I.data,K=I.isFetching,T=I.refetch,U=null!==(e=null==Z?void 0:Z.collateralAmount)&&void 0!==e?e:k.O$.from(0),J=null!==($=null==Z?void 0:Z.debtAmount)&&void 0!==$?$:k.O$.from(0),z=(0,O.W)(),Q=z.collateralTokenPrice,X=z.debtTokenPrice,q=z.granularity,Y=function(){i(void 0),l(""),u(""),f(""),C(""),N(""),T()};if(K)return(0,n.jsx)(V.g,{});var ee=k.O$.from(10),e$=k.O$.from(10),et=J.add((0,w.parseEther)(G(h))).sub((0,w.parseEther)(G(b))),en=U.add((0,w.parseEther)(G(o))).add((0,w.parseEther)(G(m))).sub((0,w.parseEther)(G(j))),er=function(){if(!et.mul(X).lte(0))return en.mul(Q).div(et.mul(X))}(),ea=(0,w.formatEther)(et.mul(ee).div(q));return(0,n.jsxs)(n.Fragment,{children:[U.eq(0)?(0,n.jsx)(H,{openDialog:function(){return i("depositDialog")}}):(0,n.jsx)(M,{currentCollateralAmount:U,currentBorrowAmount:J,openDepositDialog:function(){return i("depositDialog")},openWithdrawDialog:function(){return i("withdrawDialog")},openRepayDialog:function(){return i("repayDialog")},openBorrowDialog:function(){return i("borrowDialog")}}),(0,n.jsx)(p,{borrowAmount:h,setBorrowAmount:u,newCollateralRatio:er,newInterest:ea,showDialog:"borrowDialog"===a,closeDialog:Y,onApprove:function(){return i("borrowConfirmationDialog")}}),(0,n.jsx)(A,{collateralAmount:o,borrowAmount:h,collateralRatio:null!=er?er:k.O$.from(0),interest:ea,showDialog:"borrowConfirmationDialog"===a,closeDialog:Y,onBack:function(){return i("borrowDialog")}}),(0,n.jsx)(y,{depositAmount:m,setDepositAmount:f,newCollateralRatio:er,showDialog:"depositDialog"===a,closeDialog:Y,onApprove:function(){return i("depositConfirmationDialog")}}),(0,n.jsx)(S,{collateralRatio:null!=er?er:k.O$.from(0),depositAmount:m,showDialog:"depositConfirmationDialog"===a,closeDialog:Y,onBack:function(){return i("depositDialog")}}),(0,n.jsx)(B,{withdrawAmount:j,setWithdrawAmount:C,showDialog:"withdrawDialog"===a,closeDialog:Y,onApprove:function(){return i("withdrawConfirmationDialog")}}),(0,n.jsx)(R,{withdrawAmount:j,interestPaid:e$,showDialog:"withdrawConfirmationDialog"===a,closeDialog:Y,onBack:function(){return i("withdrawDialog")}}),(0,n.jsx)(L,{repayAmount:b,setRepayAmount:N,newCollateralRatio:er,newInterest:ea,showDialog:"repayDialog"===a,closeDialog:Y,onApprove:function(){return i("repayConfirmationDialog")}}),(0,n.jsx)(P,{repayAmount:b,interestPaid:e$,showDialog:"repayConfirmationDialog"===a,closeDialog:Y,onBack:function(){return i("repayDialog")}})]})}}},function(e){e.O(0,[662,792,575,669,722,774,888,179],function(){return e(e.s=50477)}),_N_E=e.O()}]);